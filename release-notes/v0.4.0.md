# ScholarGraph3D v0.4.0 Release Notes

**Release Date:** February 19, 2026

---

## ğŸ‰ What's New

ScholarGraph3D v0.4.0 brings major stability improvements, interactive panel resizing, and powerful new ways to explore academic research networks. This release fixes critical usability issues, introduces conceptual relationship visualization between papers, and launches a redesigned home page with multiple research entry modes.

---

## ğŸ“‹ Table of Contents

1. [Critical Bug Fixes](#critical-bug-fixes)
2. [Panel Resize Functionality](#panel-resize-functionality)
3. [Conceptual Relationship Edges](#conceptual-relationship-edges)
4. [3-Mode Home Page](#3-mode-home-page)
5. [Timeline View & Interactions](#timeline-view--interactions)
6. [Migration Notes](#migration-notes)
7. [Known Limitations](#known-limitations)
8. [í•œêµ­ì–´ ìš”ì•½](#í•œêµ­ì–´-ìš”ì•½)
9. [Next: v0.5.0 Roadmap](#next-v050-roadmap)

---

## Critical Bug Fixes

### A1: Node Click Panel Opening Issue

**Problem:** Clicking on a node in the 3D graph would not reliably open the right panel. In many cases, clicking a node would immediately close the panel or fail to open it at all.

**Root Cause:** The `nodeThreeObject` callback maintained `selectedPaper` in its dependency array. When clicking a node, `selectedPaper` would update, causing the callback to be recreated, which rebuilt all Three.js objects in the graph. This reconstruction inadvertently triggered an `onBackgroundClick` event that immediately closed the panel.

**Solution:**
- Implemented a `selectedPaperIdRef` ref-based pattern to track selected papers without including `selectedPaper` in the dependency array
- Added a `useEffect` hook that synchronizes the ref with the actual selected paper state and calls `fgRef.refresh()` for visual updates
- Introduced a `justClickedNodeRef` 150ms guard to prevent spurious background click events from closing the panel immediately after selection

**Impact:** Panel now opens reliably and remains open when you select a node. Better user experience for exploring paper details.

---

### A2: Expand Citations Silent Failure

**Problem:** When expanding citations for a paper, if an error occurred, it would silently fail and only log to the browser console. Users had no indication that something went wrong.

**Solution:** Wrapped the expand citations functionality in a try/catch block that displays error messages as a toast notification (4-second auto-dismiss).

**Impact:** Users now receive immediate feedback when citation expansion fails, with actionable error messages displayed on screen.

---

## Panel Resize Functionality

### Left Sidebar Resizing

The left sidebar (paper list and search controls) can now be resized by dragging the handle on its right edge.

**Features:**
- **Range:** 180px (minimum) to 520px (maximum)
- **Persistence:** Your preferred width is saved to localStorage and restored on next visit
- **Smooth Interaction:** Drag handle to adjustâ€”responsive feedback during resize
- **Responsive:** Automatically adapts to smaller screens

**Use Case:** Researchers who need more vertical space for the 3D graph can compress the left sidebar, while those who prefer larger paper list previews can expand it.

---

### Right Panel Resizing

The right panel (paper details) can now be resized by dragging the handle on its left edge.

**Features:**
- **Range:** 280px (minimum) to 600px (maximum)
- **Persistence:** Width is saved to localStorage
- **Smart Layout:** The 3D graph reflows automatically to fill available space
- **Mobile-Friendly:** Handles adjust gracefully on narrow screens

**Use Case:** View detailed abstracts and metadata comfortably without sacrificing graph visibility, or minimize the detail panel to maximize graph exploration space.

---

## Conceptual Relationship Edges

### Overview

This release introduces a powerful new visualization layer that reveals methodological and theoretical connections between papersâ€”even papers that don't directly cite each other.

### New Endpoint: `/api/analysis/conceptual-edges/stream`

**Method:** GET (Server-Sent Events / SSE)

**Purpose:** Extracts and streams conceptual relationships between papers in a network.

**Algorithm:**
1. **Pre-filter:** SPECTER2 cosine similarity reduces comparison overhead (threshold 0.45) â€” reduces from O(NÂ²) to approximately O(NÂ²/10) comparisons
2. **Batch Extraction:** Groq LLaMA-3.3-70b analyzes papers in batches of 10, extracting method and theory fingerprints
3. **Relation Classification:** Three relationship types are identified:
   - `methodology_shared` (purple edges) â€” papers using similar methodologies
   - `theory_shared` (blue edges) â€” papers grounded in related theoretical frameworks
   - `similarity_shared` (gray edges) â€” papers with high embedding similarity

**Graceful Degradation:** If Groq API key is not configured, the system falls back to SPECTER2 similarity edges only.

**Note:** This is a streaming endpointâ€”relationships appear progressively as they're calculated, providing real-time feedback.

---

### New Endpoint: `POST /api/analysis/scaffold-angles`

**Purpose:** Generates exploration angles for a research question or paper network.

**Response:** Returns suggested research angles (Broad, Narrow, Method, Theory, Population) that can guide network exploration.

---

### Frontend Integration

**How It Works:**
- EventSource subscription automatically starts after a search completes
- Edges appear progressively on the 3D graph as they're calculated
- No page reload requiredâ€”watch relationships build in real-time

**GraphControls Toggle:**
- New toggle: **"Conceptual Relations (N)"** where N is the current edge count
- Includes a live updating count and an "analyzing..." spinner while relationships are being calculated
- Click toggle to show/hide conceptual edges
- Useful for toggling between citation-only and conceptual views

---

### Node Role Badges

Papers are now labeled with role badges to help you quickly identify their contribution type:

- **"R" badge (blue):** Review or meta-analysis paper. Useful for understanding the state of a field.
- **"M" badge (purple):** Methodology paper. Often contains reusable techniques and frameworks.

---

## 3-Mode Home Page

### Overview

The home page has been completely redesigned with three distinct entry modes, each tailored to different research workflows.

### Entry Modes

#### 1. ğŸ” Field Search

**For:** Researchers exploring a general academic field or topic

**Workflow:**
- Enter a keyword (e.g., "neural networks", "climate adaptation")
- System searches the academic database
- Explore results using the existing graph visualization and filtering tools

**Best For:** Discovering foundational papers, field surveys, trending topics

---

#### 2. ğŸ“„ Seed Paper

**For:** Researchers starting from a specific paper they know

**Workflow:**
- Paste a DOI (e.g., `10.1234/example`) or paper URL
- System fetches the paper and builds a network of related papers
- Instantly visualize the paper's context within the research landscape

**Best For:** Citation network analysis, understanding a paper's influence, related work sections

**New Endpoints Supporting This:**
- `GET /api/papers/by-doi` â€” Fetch paper metadata by DOI
- Enhanced routing in the explore page to handle DOI-based initialization

---

#### 3. ğŸ¤” Research Question

**For:** Researchers defining a novel research direction

**Workflow:**
1. Enter a research question (e.g., "How do language models learn semantic relationships?")
2. AI generates 5 exploration angles:
   - **Broad:** General foundational concepts
   - **Narrow:** Specific, cutting-edge angles
   - **Method:** Papers focusing on relevant methodologies
   - **Theory:** Papers grounded in theoretical foundations
   - **Population:** Papers studying specific populations or domains
3. Multi-select desired angles and merge with OR query logic
4. Explore the combined network

**Best For:** Literature reviews, thesis/dissertation planning, identifying research gaps

---

### Supporting Features

**Recent Searches:**
- Up to 5 most recent searches are stored in localStorage
- One-click access to return to previous explorations
- Quick path back to interrupted research sessions

**Example Query Gallery:**
- Curated examples of effective searches across different domains
- Learn by exampleâ€”see what good research questions look like
- Jump-start exploration with template searches

---

## Timeline View & Interactions

### Timeline Toggle

A new timeline mode has been added to help you understand the temporal evolution of research.

**How It Works:**
- Toggle available in the GraphControls panel (clock icon)
- When enabled, nodes are automatically arranged along the Y-axis by publication year
- Earlier papers appear lower, more recent papers appear higher
- Graph maintains 3D structure for X and Z axes

**Range:** Y-axis spans from -150 to +150 years (relative positioning based on publication dates)

**Use Cases:**
- Track how a field evolves over time
- Identify seminal papers (isolated at bottom) vs. modern developments (clustered at top)
- Visualize publication trends and research velocity

---

### New Icon in GraphControls

**Clock Icon:** Toggles timeline layout (Y-axis = publication year)

**Network Icon:** Toggles conceptual relations visibility

These icons join existing controls, giving you full command over graph visualization.

---

## Migration Notes

### API Changes

No breaking changes in v0.4.0. All existing endpoints remain fully functional.

**New Endpoints:**
- `GET /api/analysis/conceptual-edges/stream` â€” Server-Sent Events, returns streaming conceptual relationships
- `POST /api/analysis/scaffold-angles` â€” Generate exploration angles
- `GET /api/papers/by-doi` â€” Fetch papers by DOI

**Frontend:**
- New localStorage keys for panel resize state (non-breaking)
- EventSource subscriptions for conceptual edges (gracefully handles if endpoint unavailable)

### Updating Your Installation

```bash
# Pull latest changes
git pull origin main

# Install dependencies (if any new packages added)
npm install

# Restart development server or rebuild for production
npm run dev
# or
npm run build
```

### Configuration

If you want to enable conceptual relationship edges:
1. Ensure your `.env.local` includes a Groq API key: `GROQ_API_KEY=your_key_here`
2. If not set, the system automatically falls back to SPECTER2 similarity edges
3. No configuration required for timeline or 3-mode home page

---

## Known Limitations

### Conceptual Edges Performance

- For very large networks (500+ papers), edge calculation may take 30+ seconds
- Groq API rate limits may throttle batch processing during peak usage
- Fallback to SPECTER2-only edges if Groq is unavailable

**Workaround:** Start with smaller searches and expand gradually, or use citation edges only for large networks.

---

### DOI Lookup Coverage

- Not all papers have DOI metadata in the database
- Some URLs may not be directly parseable; manual DOI entry is more reliable

**Workaround:** Use the "Field Search" mode or research question mode if direct DOI lookup fails.

---

### Timeline Layout Constraints

- Very sparse publication years may result in uneven spacing
- Papers without publication dates are anchored to year 0
- Timeline mode doesn't apply to the 2D mini-map view

---

### Browser Compatibility

- Conceptual edges (WebGL visualization) requires WebGL support
- SSE (Server-Sent Events) may have connection issues behind certain proxies
- Panel resizing requires JavaScript enabled

---

## í•œêµ­ì–´ ìš”ì•½

### ScholarGraph3D v0.4.0 ì—…ë°ì´íŠ¸ ë‚´ìš©

#### ì£¼ìš” ë²„ê·¸ ìˆ˜ì •
- **ë…¸ë“œ í´ë¦­ â†’ ìš°ì¸¡ íŒ¨ë„ ë¯¸ì—´ë¦¼ (ì¤‘ëŒ€):** `selectedPaperIdRef` ì°¸ì¡° íŒ¨í„´ìœ¼ë¡œ í•´ê²°. ë…¸ë“œ í´ë¦­ ì‹œ íŒ¨ë„ì´ ì•ˆì •ì ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤.
- **ì¸ìš© í™•ì¥ ì˜¤ë¥˜:** ì˜¤ë¥˜ ë°œìƒ ì‹œ í† ìŠ¤íŠ¸ ì•Œë¦¼(4ì´ˆ ìë™ í•´ì œ)ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.

#### íŒ¨ë„ ë¦¬ì‚¬ì´ì§• ê¸°ëŠ¥
- **ì¢Œì¸¡ ì‚¬ì´ë“œë°”:** ìš°ì¸¡ ê°€ì¥ìë¦¬ë¥¼ ë“œë˜ê·¸í•˜ì—¬ 180px~520px ë²”ìœ„ì—ì„œ ì¡°ì • ê°€ëŠ¥
- **ìš°ì¸¡ íŒ¨ë„:** ì¢Œì¸¡ ê°€ì¥ìë¦¬ë¥¼ ë“œë˜ê·¸í•˜ì—¬ 280px~600px ë²”ìœ„ì—ì„œ ì¡°ì • ê°€ëŠ¥
- localStorageì— í¬ê¸° ì €ì¥ â†’ ë‹¤ìŒ ë°©ë¬¸ ì‹œ ë³µì›

#### ê°œë…ì  ê´€ê³„ ì—£ì§€ (ì‹ ê¸°ëŠ¥)
- ìƒˆ ì—”ë“œí¬ì¸íŠ¸: `GET /api/analysis/conceptual-edges/stream` (Server-Sent Events)
- SPECTER2 ì½”ì‚¬ì¸ ìœ ì‚¬ë„ í•„í„°(threshold 0.45)ë¡œ ì„±ëŠ¥ ìµœì í™”
- Groq LLaMA-3.3-70bë¥¼ ì‚¬ìš©í•œ ë°©ë²•ë¡ /ì´ë¡  ì§€ë¬¸ ì¶”ì¶œ
- ê´€ê³„ ìœ í˜•: `methodology_shared` (ë³´ë¼ìƒ‰), `theory_shared` (íŒŒë€ìƒ‰), `similarity_shared` (íšŒìƒ‰)
- Groq API í‚¤ ì—†ì´ë„ ìš°ì•„í•˜ê²Œ í´ë°±
- GraphControlsì—ì„œ "Conceptual Relations (N)" í† ê¸€ë¡œ í‘œì‹œ/ìˆ¨ê¹€

#### 3ëª¨ë“œ í™ˆí˜ì´ì§€ (ì‹ ê¸°ëŠ¥)
- **ğŸ” ë¶„ì•¼ ê²€ìƒ‰:** í‚¤ì›Œë“œ ì…ë ¥ â†’ ê¸°ì¡´ íƒìƒ‰ í”Œë¡œìš°
- **ğŸ“„ ì‹œë“œ ë…¼ë¬¸:** DOI/URL ì…ë ¥ â†’ ë…¼ë¬¸ ë„¤íŠ¸ì›Œí¬ íƒìƒ‰
- **ğŸ¤” ì—°êµ¬ ì§ˆë¬¸:** AIê°€ 5ê°€ì§€ íƒìƒ‰ ê°ë„ ìƒì„± (ê´‘ë²”ìœ„/ì¢ì€/ë°©ë²•ë¡ /ì´ë¡ /ëª¨ì§‘ë‹¨)
- ScaffoldingModal: ì—¬ëŸ¬ íƒìƒ‰ ê°ë„ ì„ íƒ, OR ì¿¼ë¦¬ë¡œ ë³‘í•©
- ìµœê·¼ ê²€ìƒ‰(ìµœëŒ€ 5ê°œ) localStorageì—ì„œ ë³µì›
- ìƒˆ ì—”ë“œí¬ì¸íŠ¸: `GET /api/papers/by-doi`

#### íƒ€ì„ë¼ì¸ ë·° + ìƒí˜¸ì‘ìš© (ì‹ ê¸°ëŠ¥)
- GraphControlsì—ì„œ íƒ€ì„ë¼ì¸ í† ê¸€: ë…¸ë“œ Yì¶•ì„ ë°œí–‰ ì—°ë„ë¡œ ê³ ì •
- ìƒˆë¡œìš´ ì•„ì´ì½˜: ì‹œê³„(íƒ€ì„ë¼ì¸), ë„¤íŠ¸ì›Œí¬(ê°œë…ì  ê´€ê³„)

#### ë§ˆì´ê·¸ë ˆì´ì…˜ ë…¸íŠ¸
- í•˜ìœ„ í˜¸í™˜ì„± ì™„ë²½ ìœ ì§€
- ìƒˆ ì—”ë“œí¬ì¸íŠ¸: `/api/analysis/conceptual-edges/stream`, `/api/analysis/scaffold-angles`, `/api/papers/by-doi`
- ì„ íƒì‚¬í•­: `.env.local`ì— `GROQ_API_KEY` ì„¤ì •í•˜ë©´ ê°œë…ì  ì—£ì§€ í™œì„±í™”

---

## Next: v0.5.0 Roadmap

### Planned Features

- **Advanced Filtering:** Temporal filters (publication year ranges), author reputation scoring, citation impact metrics
- **Collaboration Features:** Save and share research networks, collaborative annotation, multi-user workspaces
- **Export & Analysis Tools:** Generate literature review outlines, export citation formats (BibTeX, APA, Chicago), statistical network analysis (centrality measures, community detection)
- **AI-Powered Insights:** Auto-generate research summaries, identify research gaps, suggest papers based on methodology/theory preferences
- **Mobile App:** Native iOS/Android app with offline support for saved networks
- **Enhanced Search:** Semantic search, natural language query processing, field-specific search operators

### Community Feedback

We're actively seeking community input on v0.5.0 priorities. Please open GitHub issues to vote on features you'd like to see next!

---

## Questions or Feedback?

- **GitHub Issues:** Report bugs or request features on our [GitHub repository](https://github.com/yourusername/scholargraph3d)
- **Documentation:** Check out our [comprehensive docs](https://docs.scholargraph3d.example.com)
- **Community:** Join our Discord server for discussions and updates

---

**Happy researching! ğŸš€**
